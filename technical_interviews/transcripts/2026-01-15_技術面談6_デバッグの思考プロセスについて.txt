
話者 1 
はい。

話者 2 
で、えっと、実際に Rスペックとかそのデバッグツールの使ってやってて、エラー元々エラーがもうあるっていう状態なんですけど。こういう風にそのちょっと画面拡大を。

話者 1 
しようか。ありがとうございます。

話者 2 
こういう風にエラーが、まあアクティブレコードのエラーが出ましたよっていう状態でして、これが該当コードのエラーですっていうので、今日お聞きしたいのが、その実際にこれが僕が行ったエラー原因の解決に行ったそのデバッグの思考プロセスと、実際実務視点で見たそのデバッグの思考プロセスとかちょっとギャップがあれば知りたいな、ご指摘いただきたいなと思って、そこの点を相談していきたいです。

で、まあエラー原因の結果としてはここにまとめたんですけど、そのポストショーアクションは全ユーザーの該当する投稿を見る処理なのに、そのエラーあった箇所はこの該当コードがカレントユーザーログインしているユーザーのユーザー ID とポスト ID がマッチする条件のみをファインドするようにしていたっていうのでエラーが出てたっていうことだったんですけど、これから僕が実際にこれまでそのエラー原因にたどり着くまでに行った思考プロセスをちょっとお話ししていきたいというふうに思います。 

話者 1 
はい、お願いします。

話者 2 
で、実際にこのまず 1つ目が、ちょっとわからなかったんですけど、僕がエラーログからまずバインディングドットブレイクですね。 ブレイクをどこに置くのかってちょっとわからなかったので、そこはえっと、調べておく場所をその直前に置きました。

直前っていうのはちょっと、すいません、はてなかったんですけど、このここですね、置いた箇所はここにブレイクをバインディングドットブレイクを置いて、実際にこの処理、カレントユーザーに行く前にどんな変数が入っているのかということを調べました。 で、そこで次にここが僕が考えた 2つ目なんですけど、フォーマットの中身を確認したら適切な ID が渡されているのかなと思って。 じゃあフォーマットの中身を調べようというふうに考えました。 2つ目に。 で、そもそもフォーマット HTML フォーマットが何かというのはちょっとまだ理解できなかったので、僕の中でネットでフォーマット HTML について何かというのを調べて、ここは僕が理解が間違っていたなというのは、フォーマット HTML はそもそもクライアントから送られてきた送信された URL の形式に応じて JSON か HTML を返すっていうところだったなということを理解して、次にパラメータ ID の処理はそもそもリクエストされた URL の ID を格納するっていう処理ってのを学習できて、じゃあここは別に関係ないなという理解になりました。

次にその最初に言った該当行を直接にブレイクポイントを置いて調べたら、結果としてえっと。 ポスト、えーと、この処理、この行動に。 与えされた投稿の ID がポストに存在してないよっていう風になったんですよ。 そこで僕が思ったのが、疑問として DB に存在しないのに、なんで今ユーザー UI として見れているのか?

ということを考えて、そこでまあその結論に気づいて。 そもそも POST SHOW ACTION は全ユーザーの該当する投稿を見るやつだから、なんか設計がおかしいのではないかっていう風になって、で、その該当した行動をこの post find params id 全投稿から該当する ID を見るっていう、その POST ID を見るっていう処理になりました。 で、実際に SQL どんな感じなんだろうと思って比較をして、やっぱり確かにちょっと違うなということで。 終わりました。 思考プロセスを。 これが以上、僕のデバッグプロセスと思考プロセスになります。 ちょっとすいません、長くなっちゃったんですけど。 はい。 

話者 1 
はい、ありがとうございます。 はい。

僕あの、あのちゃんと検証もできて、思考もちゃんとなんて言うんだろう、自分の言葉で記録してって思考プロセスを止めてるっていう過程がとても大事だと思うので、すごく素敵だなと思いました。 

話者 2 
あっつられます。

話者 1 
はい、ただ実務視点とかでいうと、えっと、まずはワインディングのブレイクとか、そういうのをどういう時に使うかっていうのと、どこに置くのかっていうのが多分気になるポイントかなと思うんですけど。 あともうよくあるのが、なんかエラーが起きたから置くのではなくて、まずは先に仮説を立てて、エラーが起きた時に仮説を立てて、そのエラーの仮説を言語化するのを一回置いてみて、デバッグを置く前に一回置いてみると良さそうかなって、今聞いてて思いました。

で、それで、えーと仮説を立てて、あ、私のやり方で大丈夫ですか？ 

話者 2 
あ、はい、大丈夫です。

話者 1 
はい、ありがとうございます。 仮説を立てて、あのー起きている現象は何かなとか、あと本来だったらどういった状態になるのが正解なのかなとか、何が原因で、あのデータってつながってるので、何が原因でそうなってるのかなっていうのを仮説を立てるんですね。

原因は何だったかっていうのを。 それで原因をある程度特定して推理して、最後の決め手としてあのバインディングブレイクとかを使って確認する答え、答え合わせっていうか確認するっていうのが手順かなと思ってて。 じゃないと、いろんなところに置いてっちゃうとどんどん時間かかってっちゃうんで、まずは最初に原因を仮説を立ててから怪しい箇所に置いてくっていうのが正解かなって思います。 ここまでは大丈夫そうですかね。 

話者 2 
大丈夫です。はい。

話者 1 
ありがとうございます。 そこでなんでそういうことをするかっていうと、大事なのがそれを仮説を立てることによって怪しいポイントがあるってことが自分で分かってくると、そこに確定するものをあのバインディングブレイクとかで置くと、そのー、その前と後でどこが壊れたかっていうのの切り分けができるんですね。 

話者 2 
うん。

話者 1 
なので、置くときは、まずは仮説が立てるっていうのが重要になります。 で、置く箇所についても、例えば流れ MVC の流れに乗ってデータって流れてくので、ここが... ここまでデータが渡ってたら、ここは大丈夫、前までは大丈夫かな。 じゃあ次に後ろに置く後ろに置いて、ここまではデータが渡ってない。 じゃあ、渡ってたところと渡ってないところのここが怪しいんだなっていうので、今のやり方でもすごいあのできてるじゃないかなと思うので、そこは安心していただいて大丈夫です。

あとはですね、そうですね。 あとのやり方としては、怪しいところとしてはイフ文とかあるじゃないですか。 

話者 2 
はい。

話者 1 
だからイフ文とかも結構あのなんだろう、分岐ポイントなので、分岐ポイントは結構怪しいなっていうのがあったりとか、あとはデータを今回の問題だと 2が 2の 2だまりそうだなっていうところのポイントに置いてあげるのも大事になってくるので、イフ文とか 2とか、そのなんて言うんだろう、ある程度エラーが出やすいっていうところを自分の中で溜め込んでおくと、あ、ここだなってどんどん確定していくので、今の思考のプロセスのやり方は大事かなって思います。 

話者 2 
なるほど。 1点結構ご質問なんですけど、仮説って立てる部分で、やっぱり初学者とか経験少ない人はなんだろう、そもそも仮説を立てる前にその仮説が何なのかっていうのがちょっとわかんないっていう、なんか結構問題があるかなと思うんですけど、そこはもう本当に繰り返してなんだろう、知見を貯めていくしかないってことで合ってますかね？

仮説を立てる上では。 

話者 1 
あ、ありがとうございます。じゃあ、私が小学生の時にやってたテンプレートがあるんで、それを紹介してもいいですか？

話者 2 
ありがとうます。助かります。

話者 1 
します。分ぐらい 1 分ぐらい待っててください。

話者 2 
大丈夫です。

話者 1 
すいません。 えっと、今回の時に、あのエラーのそのデバッグ思考っていうのを溜めていくのって 2種類あって、話す場合と誰かに話す場合、就活とかでエラーとかどうしてますかって話す場合と、あと書く場合って言ってがあるんですね。

書く場合の場合と話す場合で違ってくて。 で、うまくえーと、まずは書く場合の方のテンプレートとして使ってたのがチャットの方に置きます。 

話者 2 
はい。

話者 1 
これがなんかこれの起きている現象が何かっていうのを、これを 1 から 7 までやるんですけど、最初は多分難しいと思うので、できるとこからやるんですね。 できることからどんどん貯めていって、で、そこができるようになっていくと、他のところも埋められやすくなるので、フォーマットに沿って自分なりのそのエラーの確認のフォーマットが多分あると思うので、そのフォーマットに崩れないように沿っていくと、やっぱり視点が溜め溜めるってことが大事なので、あの、なんだろう、できるとこから埋めていくと仮説を立てられるようになります。 

話者 2 
うん。

話者 1 
で、話す場合。

話者 2 
そうですね、話す場合は結構なんか難しくて、さっきみたいに長くなってしまうんで、そこは難しいなと思ってます。僕も。

話者 1 
就活の時に話す前に大変なのが、あのよく、こうなんだろう、原因を特定するために書く場合とかは小さくから小さく、範囲を絞って、あの、書く、書くので、話す場合だと余計こんがらがってしまうんですよ。 だけど、就活の場合とか話す場合とかは、大き大きいところから発想させて、まずなんか非エンジニアの方に向けて話せるとこから話してみて、簡単に話してみる。

で、次にエンジニア向けに、それをちょっとあの専門用語を使って話してみる。 で、最後に実務レベルで話すようにするっていう意識の段階を三段階作ってあげると、話すのがうまくなるっていうのを前に聞いたことなので、はい、先輩に聞いたので、こうなんか最初は家族とかにこういうのを言ってるよっていうのを話してあげるといいっていうのが聞きました。 なので、そこでテンプレートを私が作って、そのテンプレートが、送りますね。 

話者 2 
はい。

話者 1 
この五つのテンプレートに沿って、なんか話す場合は何を実現したかったのかとか、どんな流れの処理なのかっていうのと、工夫点、どういうことを意識したかとか、理由はなぜそうしたかで、課題次につなげる課題を話す時に入れてあげると、話す話すんだろう話し方って言うのかな。 エラーを説明する時に良さそうかなと思います。

あとはプルリクエストとかでも先輩にここまではできたっていうところを五つの視点で言語化して入れてあげると伝わりやすくなるかなというような印象ですね。 

話者 2 
分かりました。ありがとうございます。

話者 1 
ありがとうございます。他に何か気になることありますか？

話者 2 
大丈夫です。

話者 1 
はい、よかったです。でも、今この時点でこうやって実務の視点でデバッグの思考プロセスとかを考えられてる点がすごく素敵だなと思いました。

話者 2 
ありがとうございます。そう言っていただけると嬉しいです。

話者 1 
はい、引き続き応援しております。

話者 2 
ありがとうございます。またお願いします。

話者 1 
よろしくお願いします。

話者 2 
失礼いたします。

話者 1 
失礼いたします。
